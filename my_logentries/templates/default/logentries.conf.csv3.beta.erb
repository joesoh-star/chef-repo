#
# Logentries Token-based Logging Setting
#

$Modload imfile

$InputFileName <%= @le_access_01 %>
$InputFileTag Apache_Access01
$InputFileStateFile Apache_Access_file01
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_error_01 %>
$InputFileTag Apache_Error01
$InputFileStateFile Apache_Error_file01
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_access_02 %>
$InputFileTag Apache_Access02
$InputFileStateFile Apache_Access_file02
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_error_02 %>
$InputFileTag Apache_Error02
$InputFileStateFile Apache_Error_file02
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_access_03 %>
$InputFileTag Apache_Access03
$InputFileStateFile Apache_Access_file03
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_error_03 %>
$InputFileTag Apache_Error03
$InputFileStateFile Apache_Error_file03
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_access_04 %>
$InputFileTag Apache_Access04
$InputFileStateFile Apache_Access_file04
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_error_04 %>
$InputFileTag Apache_Error04
$InputFileStateFile Apache_Error_file04
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_access_05 %>
$InputFileTag Apache_Access05
$InputFileStateFile Apache_Access_file05
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_error_05 %>
$InputFileTag Apache_Error05
$InputFileStateFile Apache_Error_file05
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_access_06 %>
$InputFileTag Apache_Access06
$InputFileStateFile Apache_Access_file06
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_error_06 %>
$InputFileTag Apache_Error06
$InputFileStateFile Apache_Error_file06
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor

$InputFileName <%= @le_auth %>
$InputFileTag Auth
$InputFileStateFile Auth_file
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor


# Only entered once in case of following multiple files
# This will poll the file every 10 seconds
$InputFilePollInterval 10
$template le_access_01,"<%= @le_access_token_01 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_error_01,"<%= @le_error_token_01 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_access_02,"<%= @le_access_token_02 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_error_02,"<%= @le_error_token_02 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_access_03,"<%= @le_access_token_03 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_error_03,"<%= @le_error_token_03 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_access_04,"<%= @le_access_token_04 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_error_04,"<%= @le_error_token_04 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_access_05,"<%= @le_access_token_05 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_error_05,"<%= @le_error_token_05 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_access_06,"<%= @le_access_token_06 %> %HOSTNAME% %syslogtag%%msg%\n"
$template le_error_06,"<%= @le_error_token_06 %> %HOSTNAME% %syslogtag%%msg%\n"
$template LogentriesAuthFormat,"<%= @le_auth_token %> %HOSTNAME% %syslogtag%%msg%\n"

if $programname == 'Apache_Access01' then @@data.logentries.com:80;le_access_01
&~
if $programname == 'Apache_Error01' then @@data.logentries.com:80;le_error_01
&~
if $programname == 'Apache_Access02' then @@data.logentries.com:80;le_access_02
&~
if $programname == 'Apache_Error02' then @@data.logentries.com:80;le_error_02
&~
if $programname == 'Apache_Access03' then @@data.logentries.com:80;le_access_03
&~
if $programname == 'Apache_Error03' then @@data.logentries.com:80;le_error_03
&~
if $programname == 'Apache_Access04' then @@data.logentries.com:80;le_access_04
&~
if $programname == 'Apache_Error04' then @@data.logentries.com:80;le_error_04
&~
if $programname == 'Apache_Access05' then @@data.logentries.com:80;le_access_05
&~
if $programname == 'Apache_Error05' then @@data.logentries.com:80;le_error_05
&~
if $programname == 'Apache_Access06' then @@data.logentries.com:80;le_access_06
&~
if $programname == 'Apache_Error06' then @@data.logentries.com:80;le_error_06
&~
if $programname == 'Auth' then @@data.logentries.com:80;LogentriesAuthFormat
&~


#*.* @@data.logentries.com:80;LogentriesFormat
